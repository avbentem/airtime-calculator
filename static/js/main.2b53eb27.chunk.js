(this["webpackJsonpairtime-calculator"]=this["webpackJsonpairtime-calculator"]||[]).push([[0],{112:function(e,t,a){},196:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),o=a(18),c=a.n(o),i=a(51),s=a.n(i),u=a(72),m=a(6),d=a(73),f=a.n(d),p=a(10),h=a(85),v=a(15),g=a(74),E=a.n(g),b=a(83),y=a(7),w=(a(112),a(17)),x=a(27),S=a(52),z=a.n(S),R=a(77),j=a(78),O=a(11),k=a(21);function C(){var e=Object(r.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1];return Object(r.useEffect)((function(){var e=function(e){return function(t){if(window.getSelection&&t instanceof ClipboardEvent&&t.clipboardData)return function(e){if(!window.getSelection||!e.clipboardData)return!1;var t=window.getSelection();if(t&&t.toString()===n.ShareUrl)return e.clipboardData.setData("text/html",'Learn about the limits of LoRaWAN, using the online <a href="'.concat(window.location.href,'">airtime calculator</a>.')),e.clipboardData.setData("text/plain","Learn about the limits of LoRaWAN, using the online airtime calculator at ".concat(window.location.href)),e.preventDefault(),!0;return!1}(t)?void e({title:"A shareable URL was copied",content:l.a.createElement(l.a.Fragment,null,"The URL shares the current settings for region, overhead size and payload size. Some of those may be the default values, hence not explicitly visible in the URL.")}):function(){if(window.getSelection){var e=(window.getSelection()||"").toString();return""!==e&&e!==n.Default}return!1}()?void e({title:l.a.createElement(l.a.Fragment,null,"The selected text was copied"),content:l.a.createElement(l.a.Fragment,null,null!==A()?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("strong",null,"Did you intend to copy the tooltip?")," Then ensure no text is selected when copying.")):l.a.createElement("p",null,"To copy a tooltip, ensure no text is selected. (And use the keyboard on a desktop browser.)"),l.a.createElement("p",null,"To copy the result grid, make sure no text is selected and no tooltip is shown."))}):function(e){if(!e.clipboardData)return!1;var t=A();if(t)return t instanceof HTMLElement&&t.innerHTML&&e.clipboardData.setData("text/html",t.innerHTML),t&&t.textContent&&e.clipboardData.setData("text/plain",t.textContent),e.preventDefault(),!0;return!1}(t)?void e({title:"The tooltip text was copied",content:"To copy the result grid, make sure no tooltip is shown while copying."}):function(e){if(!e.clipboardData)return!1;var t=document.querySelector('[role="table"]');if(t){var a=t.getAttribute("data-label"),n=D(t,"rowgroup"),r=D(n[0],"columnheader"),l=D(n[1],"row"),o="<thead>\n<tr>".concat(r.map((function(e){return"<th>".concat(e.textContent,"</th>")})).join(""),"</tr>\n</thead>"),c="<tbody>\n".concat(l.map((function(e){return D(e,"cell")})).map((function(e){return"<tr>".concat(e.map((function(e){return"<td>".concat(e.textContent,"</td>")})).join(""),"</tr>")})).join("\n"),"\n</tbody>"),i="<table>\n".concat(o,"\n").concat(c,"\n</table>").replace(/\u200B\u200B/g,"&lt;br>").replace(/\u200B/g," ");return e.clipboardData.setData("text/html","<p>".concat(a,"</p>\n").concat(i,'\n<p>See <a href="').concat(window.location.href,'">the airtime calculator</a> for many more details and interactive results.</p>')),e.clipboardData.setData("text/plain","Unfortunately, the table layout is not supported when pasting as plain text.\n\nPlease paste as formatted text, or see ".concat(window.location.href," for many more details and formatted, interactive results.")),e.preventDefault(),!0}return!1}(t)?void e({title:"The result grid was copied",content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"To copy a tooltip, make sure it's shown while copying. (And use the keyboard on a desktop browser.)"))}):void e({title:"Action failed",content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Somehow copying failed. Care to"," ",l.a.createElement("a",{href:"https://github.com/avbentem/airtime-calculator/issues"},"share more details"),"?"))});e({title:"Unsupported browser",content:"Your browser does not support the enhanced copy function to copy the tooltip or result grid."})}}(o);return window.addEventListener("copy",e),function(){return window.removeEventListener("copy",e)}}),[]),{notification:a}}function A(){return document.querySelector('[role="tooltip"] .tooltip-inner')}function D(e,t){return Array.from(e.querySelectorAll('[role="'.concat(t,'"]')))}function N(e){var t=window.getSelection&&window.getSelection();if(!t)return!1;var a=document.createElement("p");a.textContent=e,document.body.appendChild(a);var n=document.createRange();n.setStartBefore(a),n.setEndAfter(a);var r=t.rangeCount>0&&t.getRangeAt(0);return t.removeAllRanges(),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),r&&t.addRange(r),document.body.removeChild(a),!0}!function(e){e.Default="CLIPBOARD_ACTION_DEFAULT",e.ShareUrl="CLIPBOARD_ACTION_URL"}(n||(n={}));var T=[{name:"LinkCheckReq",size:0},{name:"LinkAdrAns",size:1},{name:"DutyCycleAns",size:0},{name:"RXParamSetupAns",size:1},{name:"DevStatusAns",size:2},{name:"NewChannelAns",size:1},{name:"DlChannelAns",size:1},{name:"RXTimingSetupAns",size:0},{name:"TxParamSetupAns",size:0}],F=[{name:"LinkCheckAns",size:2},{name:"LinkAdrReq",size:4},{name:"DutyCycleReq",size:1},{name:"RXParamSetupReq",size:4},{name:"DevStatusReq",size:0},{name:"NewChannelReq",size:5},{name:"DlChannelReq",size:4},{name:"RXTimingSetupReq",size:1},{name:"TxParamSetupReq",size:1}],L=a(86),M=a(75),P=a(34);a(196);function I(e){var t=e.content,a=e.showIcon,n=void 0!==a&&a,o=e.placement,c=void 0===o?"auto-end":o,i=e.children,s=Object(r.useState)((function(){return Object(P.uniqueId)("HelpTooltip-")})),u=Object(m.a)(s,1)[0];return t?l.a.createElement(L.a,{placement:c,overlay:l.a.createElement(M.a,{id:u},t)},l.a.createElement("div",null,i,n&&l.a.createElement("sup",null,l.a.createElement("small",{className:"text-muted"},"\u24d8")))):l.a.createElement(l.a.Fragment,null,i)}function W(e){return{value:""+e.value,onChange:function(t){var a=t.currentTarget;e.setValue("number"===typeof e.value?+a.value:a.value)}}}function B(e){e.currentTarget.blur(),e.currentTarget.classList.remove("active")}var U=a(36),_=a(38);a(198);function q(e){var t=e.min,a=void 0===t?0:t,n=e.max,o=e.value,c=e.setValue;return Object(r.useEffect)((function(){c(o)}),[o,c]),l.a.createElement(_.a,null,l.a.createElement(_.a.Prepend,null,l.a.createElement(w.a,{onClick:function(e){o>a&&c(o-1),B(e)},variant:"outline-secondary","aria-label":"Decrease"},"-")),l.a.createElement(U.a,Object.assign({},W({value:o,setValue:c}),{type:"number",className:"NumberInput",min:a,placeholder:"Enter number"})),l.a.createElement(_.a.Append,null,l.a.createElement(w.a,{onClick:function(e){("undefined"===typeof n||o<n)&&c((function(e){return e+1})),B(e)},variant:"outline-secondary","aria-label":"Increase"},"+")))}var H=a(87),V=a(55),G=a(76),X={payloadSize:12,headerSize:13,codingRate:"4/5"};function $(e){function t(e){var t=Object(r.useState)(e),a=Object(m.a)(t,2);return{value:a[0],setValue:a[1]}}var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={},n=t.split(",").map((function(e){return e.trim()})),r=Object(G.a)(n);try{var l=function(){var t=e.value;if(""===t)return"continue";if(/^\d+$/.test(t))return a.payloadSize?a.headerSize?console.warn("Ignored numeric value ".concat(t,"; already parsed both payloadSize and headerSize")):a.headerSize=+t:a.payloadSize=+t,"continue";if(/^cr4[5678]$/i.test(t))return a.codingRate?console.warn("Ignored string value ".concat(t,"; already parsed codingRate")):a.codingRate=t.substr(2).split("").join("/"),"continue";var n=t.toLowerCase(),r=T.concat(F).find((function(e){return e.name.toLowerCase()===n}));r?a.macCommands=(a.macCommands||[]).concat(r):console.warn("Ignored string value ".concat(t,"; no matching MAC command found"))};for(r.s();!(e=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}return Object(V.a)(Object(V.a)({},X),a)}(e.userConfig),o=t(a.payloadSize),c=t(a.headerSize),i=t(a.codingRate),s=t(a.macCommands);function u(e){var t;s.setValue((s.value||[]).concat(e)),t=e.size+1,c.setValue((function(e){return e+t}))}Object(r.useEffect)((function(){e.setPacketSize(c.value+o.value)}),[e,c.value,o.value]),Object(r.useEffect)((function(){e.setCodingRate(i.value)}),[e,i.value]),Object(r.useEffect)((function(){e.setUserConfig(function(e,t,a,n){var r=[];return e===X.payloadSize&&t===X.headerSize||r.push(e),t!==X.headerSize&&r.push(t),a&&a!==X.codingRate&&r.push("cr"+a.replace("/","")),n&&r.push.apply(r,Object(H.a)(n.map((function(e){return e.name})))),r.join(",")}(o.value,c.value,i.value,s.value))}),[e,c.value,o.value,i.value,s.value]);var d=T.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(R.a,{onClick:function(){return u(e)},pill:!0,variant:a.macCommands&&a.macCommands.includes(e)?"primary":"secondary"},e.name," ",e.size),"\xa0")}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,null,l.a.createElement(O.a.Row,{className:"justify-content-center"},l.a.createElement(O.a.Group,{as:p.a,xs:4,sm:3,lg:2,controlId:"formOverheadSize"},l.a.createElement(I,{showIcon:!0,content:l.a.createElement(l.a.Fragment,null,"For a data uplink and downlink, the overhead is at least 12 bytes: MHDR (1), DevAddr (4), FCtrl (1), FCnt (2) and MIC (4). When an application payload is present, FPort (1) is given too. Also, FOpts may include up to 15 bytes for MAC commands.")},l.a.createElement(O.a.Label,null,"overhead size")),l.a.createElement(q,Object.assign({},c,{min:12,max:28}))),l.a.createElement(O.a.Group,{as:p.a,xs:4,sm:3,lg:2,controlId:"formApplicationPayloadSize"},l.a.createElement(I,{showIcon:!0,content:l.a.createElement(l.a.Fragment,null,"The application payload size. Maximum 222 bytes, assuming 13 bytes of overhead. May be empty for a simple ACK or if the packet only includes MAC commands. For the time on air, only the ",l.a.createElement("em",null,"total")," size matters, being the overhead size plus the application payload size.")},l.a.createElement(O.a.Label,null,"payload size")),l.a.createElement(q,Object.assign({},o,{max:222}))),"4/5"!==i.value&&l.a.createElement(O.a.Group,{as:p.a,xs:4,sm:3,lg:2,controlId:"formCodingRate"},l.a.createElement(I,{showIcon:!0,content:"The coding rate (CR) used for forward error correction (FEC). Always 4/5 for LoRaWAN."},l.a.createElement(O.a.Label,null,"coding rate")),l.a.createElement(O.a.Control,Object.assign({as:"select"},W(i)),l.a.createElement("option",{value:"4/5"},"4/5"),l.a.createElement("option",{value:"4/6"},"4/6"),l.a.createElement("option",{value:"4/7"},"4/7"),l.a.createElement("option",{value:"4/8"},"4/8"))),l.a.createElement(O.a.Group,{as:p.a,xs:3,sm:2,md:1,controlId:"formShare"},l.a.createElement(I,{showIcon:!0,content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Use ",l.a.createElement(k.a,{size:"1em"})," or your keyboard to copy any selected text, if applicable. Otherwise, when a tooltip is active, the tooltip's text is copied. (This needs the keyboard on a desktop browser.) Or else, this copies the results."),l.a.createElement("p",null,"Use ",l.a.createElement(k.b,{size:"1em"})," to copy a shareable URL."))},l.a.createElement(O.a.Label,null,"share")),l.a.createElement("div",null,l.a.createElement(x.a,null,l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Copy",onClick:function(e){document.execCommand("copy")||N(n.Default)||alert("Sorry, it seems your browser does not support this."),B(e)}},l.a.createElement(k.a,{size:"1em"})),l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Share",onClick:function(e){N(n.ShareUrl)||alert("Sorry, your browser does not support this. Please copy the URL from the location bar."),B(e)}},l.a.createElement(k.b,{size:"1em"})))))),a.macCommands&&l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a.Row,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},l.a.createElement(O.a.Label,null,"MAC command"),l.a.createElement(j.a,{"aria-label":"MAC commands"},d))),l.a.createElement("br",null))))}var J=a(79),K=a.n(J),Y=a(80),Q=a.n(Y);function Z(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}var ee=a(81),te=a(82),ae=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,null,[{key:"calculate",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"4/5",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto",l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:8,c=Math.pow(2,t)/(1e3*a)*1e3,i=(o+4.25)*c,s=l?0:1,u="auto"===r&&125===+a&&+t>=11||!0===r?1:0,m=+n[2]-4,d=8+Math.max(Math.ceil((8*e-4*t+28+16-20*s)/(4*(t-2*u)))*(m+4),0),f=d*c;return i+f}}]),e}(),ne=Q()(K.a);function re(e){var t=e.region,a=e.selectedPacketSize,n=e.codingRate,o=Z(t),c=Z(n),i=function(){var e=Object(r.useState)(-1),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){return n(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),s=Object(r.useState)(!0),u=Object(m.a)(s,2),d=u[0],f=u[1],p=Object(r.useState)(!1),h=Object(m.a)(p,2),v=h[0],g=h[1],E=Object(r.useState)(0),b=Object(m.a)(E,2),y=b[0],S=b[1],z=Object(r.useState)([]),R=Object(m.a)(z,2),j=R[0],O=R[1],C=Object(r.useState)({autosize:!0,margin:{l:70,t:0,r:5},dragmode:"pan",xaxis:{autorange:!1,range:[0,1],title:"total packet size (overhead + application payload)",ticks:"outside"},yaxis:{ticks:"outside",autorange:!0,fixedrange:!0,rangemode:"tozero",separatethousands:!0},legend:{orientation:"h",xanchor:"center",x:.5,y:-.2}}),A=Object(m.a)(C,2),D=A[0],N=A[1],T=function(e,t){return Object(P.merge)(e,t),S((function(e){return++e})),e},F=function(e,t){return e?Math.log10(+(null!==t&&void 0!==t?t:1)):Math.pow(10,+(null!==t&&void 0!==t?t:0))};return Object(r.useEffect)((function(){n&&(O((function(e){return t.dataRates.map((function(r,l){var i,s=r.maxMacPayloadSize+5,u=Array.from(Array(s+1).keys()),m=u.map((function(e){return{y:ae.calculate(e,r.sf,r.bw,n),size:e===a?8:4}})),d=n!==c||t!==o,f=null===(i=e[l])||void 0===i?void 0:i.visible,p="low"!==r.highlight||"legendonly",h=d?p:null!==f&&void 0!==f?f:p;return{x:u,y:m.map((function(e){return e.y})),visible:h,name:"".concat(r.name," SF").concat(r.sf,"BW").concat(r.bw),marker:{size:m.map((function(e){return e.size}))},type:"scatter",mode:"lines+markers",line:{dash:"dot",shape:"hvh",width:.5},connectgaps:!0,hovertemplate:"%{y:,.1f} ms<extra>%{x} bytes on %{fullData.name}</extra>"}}))})),t.maxDwellTime?N((function(e){var a;return T(e,{shapes:[{type:"line",x0:0,y0:t.maxDwellTime,x1:1,y1:t.maxDwellTime,xref:"paper",opacity:.2,line:{color:"red",width:2,dash:"dashdot"}}],annotations:[{text:"max dwell time",x:1,xref:"paper",xanchor:"right",y:"log"===(null===(a=e.yaxis)||void 0===a?void 0:a.type)?F(!0,t.maxDwellTime):t.maxDwellTime,yanchor:"bottom",showarrow:!1,font:{color:"red"},opacity:.4}]})})):(null===o||void 0===o?void 0:o.maxDwellTime)&&N((function(e){return delete e.shapes,delete e.annotations,S((function(e){return++e})),e})))}),[t,o,n,c,a]),Object(r.useEffect)((function(){N((function(e){var t;return T(e,{yaxis:{type:v?"log":"linear",title:v?"airtime (ms, logarithmic)":"airtime (ms)"},annotations:null===(t=e.annotations)||void 0===t?void 0:t.map((function(e){return{y:F(v,e.y)}}))})}))}),[v]),Object(r.useEffect)((function(){N((function(e){var t,a,n=[0,(i-312)/6],r=d&&null!==(t=null===(a=e.xaxis)||void 0===a?void 0:a.range)&&void 0!==t?t:n;return T(e,{xaxis:{autorange:d,fixedrange:d,range:r}})}))}),[i,d]),n?l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{style:{width:"100%",height:"400px"},data:j,layout:D,revision:y,onUpdate:function(e){var t,a=null===(t=e.layout.xaxis)||void 0===t?void 0:t.range;if(a&&a[0]<0){var n,r=null===(n=e.layout.xaxis)||void 0===n?void 0:n.autorange;T(e.layout,{xaxis:{range:[0,a[1]-(r?0:a[0])],autorange:!1}})}},config:{responsive:!0,displayModeBar:!1,showEditInChartStudio:!1,showTips:!1}}),l.a.createElement(x.a,null,l.a.createElement(I,{content:l.a.createElement(l.a.Fragment,null,"Switch between a linear or logarithmic scale for the vertical axis.")},l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Share",onClick:function(){g((function(e){return!e}))}},l.a.createElement(k.d,{size:"1em"}),"\xa0linear / logarithmic")),"\xa0",l.a.createElement(I,{content:l.a.createElement(l.a.Fragment,null,"Switch between a compressed horizontal range to fit all allowed payload sizes, or a scrollable range with a fixed-width scale per payload size.")},l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Copy",onClick:function(){f((function(e){return!e}))}},l.a.createElement(k.c,{size:"1em"}),"\xa0fit all / scrollable")))):null}function le(e,t){return e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})}function oe(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return t?e+(e&&"."!==e.slice(-1)?". ":e?" ":"")+t+(e&&"."!==t.slice(-1)?".":""):e}),"")||void 0}function ce(e){var t,a=e.region,n=e.dr,r=e.size,o=e.airtime,c=e.maxPhyPayloadSize,i=o/.01/1e3,s=3e4/o,u=86400/s,m=a.maxDwellTime||0,d=m>0&&o>m,f=n.maxMacPayloadSize&&r>c;return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{content:oe(n.notes,n.maxMacPayloadSize&&(f?"The total payload of ".concat(r," bytes exceeds the maximum packet size of ").concat(c," bytes for ").concat(a.label," SF").concat(n.sf,"BW").concat(n.bw):"For ".concat(a.label," SF").concat(n.sf,"BW").concat(n.bw," the maximum total packet size is ").concat(c," bytes")))},l.a.createElement("div",{className:"Result-datarate ".concat(f?"Result-has-warning":n.notes?"Result-has-note":""),role:"cell"},l.a.createElement("div",{className:"Result-dr"},n.name),l.a.createElement("div",null,"\u200b\u200b",l.a.createElement("span",{className:"Result-sf"},"SF",n.sf),"\u200b\u200b",l.a.createElement("span",{className:"Result-unit Result-unit-bw"},"BW",l.a.createElement("br",null),n.bw)),f&&l.a.createElement("div",{className:"Result-datarate-warning"},"\u200b\u200bmax size exceeded"))),l.a.createElement(I,{content:l.a.createElement(l.a.Fragment,null,"On SF",n.sf,"BW",n.bw,", a total packet size of ",r," bytes"," ",l.a.createElement("a",{href:window.location.href},"needs ",le(o,2)," milliseconds time on air"),".",d&&l.a.createElement(l.a.Fragment,null," ","This exceeds the maximum dwell time of ",le(m,0)," milliseconds for"," ",a.label,"."))},l.a.createElement("div",{className:"Result-airtime ".concat(d?"Result-has-warning":""),role:"cell"},l.a.createElement("div",null,le(o,1),"\u200b",l.a.createElement("span",{className:"Result-unit"},"ms")),d&&l.a.createElement("div",{className:"Result-airtime-warning"},"\u200b\u200bmax dwell time exceeded"))),l.a.createElement(I,{content:l.a.createElement(l.a.Fragment,null,"If regional legal or LoRaWAN maximum duty cycles apply, then a 1% maximum duty cycle needs a ",l.a.createElement("em",null,"minimum")," of ",le(i,2)," seconds between ",l.a.createElement("em",null,"any")," subsequent packet starts in the same subband.")},l.a.createElement("div",{className:"Result-dutycycle",role:"cell"},l.a.createElement("div",null,le(i,1),"\u200b",l.a.createElement("span",{className:"Result-unit"},"sec"),"\u200b\u200b"),l.a.createElement("div",null,le(Math.floor(3600/i),0),"\u200b",l.a.createElement("span",{className:"Result-unit"},"msg",l.a.createElement("br",null),"/hour")))),l.a.createElement(I,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"The ",l.a.createElement("a",{href:"https://www.thethingsnetwork.org/forum/t/1300"},"TTN Fair Access Policy")," ","allows for at most 30 seconds time on air per device, per 24 hours. So, an"," ",l.a.createElement("a",{href:window.location.href},"airtime of ",le(o,1)," milliseconds for ",r," bytes on SF",n.sf,"BW",n.bw)," ","imposes a limit of ",le(s,1)," messages per day."),"\n\n",l.a.createElement("p",null,"When transmitting all day, ",l.a.createElement("strong",null,"on average")," this needs a minimum of"," ",(t=u,t>=120.05?"".concat(le(t/60,1)," minutes"):"".concat(le(t,1)," seconds"))," between the starts of two uplinks, or a maximum of"," ",le(s/24,1),"\xa0messages per hour."))},l.a.createElement("div",{className:"Result-fairaccess",role:"cell"},l.a.createElement("div",{className:"Result-fairaccess-messages"},le(86400/s,1),"\u200b",l.a.createElement("span",{className:"Result-unit"},"sec\u200b",l.a.createElement("br",null),"(avg)"),"\u200b\u200b"),l.a.createElement("div",null,l.a.createElement("span",{className:"Result-fairaccess-messages-per-hour"},le(s/24,1)),"\u200b",l.a.createElement("span",{className:"Result-unit Result-unit-hour"},"avg",l.a.createElement("br",null),"/hour"),"\u200b\u200b"),l.a.createElement("div",{className:"Result-fairaccess-messages-per-day"},le(Math.floor(s),0),"\u200b",l.a.createElement("span",{className:"Result-unit"},"msg",l.a.createElement("br",null),"/24h")))))}function ie(e){var t=e.region,a=e.packetSize,n=e.codingRate;if(!n)return null;var r=t.dataRates.map((function(e,r){var o=ae.calculate(a,e.sf,e.bw,n),c=e.maxMacPayloadSize+5,i=t.maxDwellTime&&o>t.maxDwellTime||e.maxMacPayloadSize&&a>c,s="Results-result-".concat(r%2?"odd":"even"),u="Results-result-highlight-".concat(i?"warning":e.highlight||"none");return l.a.createElement("div",{key:e.name,className:"Results-result ".concat(s," ").concat(u),role:"row"},l.a.createElement(ce,{size:a,region:t,dr:e,airtime:o,maxPhyPayloadSize:c}))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Results-grid Results-grid-".concat(r.length),role:"table","data-label":"Time on air and limitations for a full LoRaWAN packet of ".concat(a," bytes in ").concat(t.label,":")},l.a.createElement("div",{role:"rowgroup"},l.a.createElement("div",{className:"Results-legend",role:"row"},l.a.createElement("div",{role:"columnheader"},"data rate"),l.a.createElement("div",{role:"columnheader"},"airtime"),l.a.createElement("div",{role:"columnheader"},"1%\xa0max duty\xa0cycle"),l.a.createElement("div",{role:"columnheader"},"fair access policy"))),l.a.createElement("div",{role:"rowgroup"},r)))}a(200);function se(e){var t=e.children,a=Object(r.useRef)(null),n=Object(r.useState)(!1),o=Object(m.a)(n,2),c=o[0],i=o[1],s=Object(r.useState)(!1),u=Object(m.a)(s,2),d=u[0],f=u[1],p=function(e){var t=a.current;t&&t.scrollBy(e,0)};return Object(r.useEffect)((function(){var e=a.current,t=function(){if(e){var t=e.scrollLeft>0,a=e.scrollWidth-e.offsetWidth>e.scrollLeft+1;i(t),f(a)}else console.log("No scroll element")};if(e)return t(),window.addEventListener("resize",t),e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center horizontal-scroll"+(c?" horizontal-scroll--overflow-left":"")+(d?" horizontal-scroll--overflow-right":"")},l.a.createElement("div",{className:"horizontal-scroll__button"+(c?" horizontal-scroll__button--enabled":""),onClick:function(){p(-40)}},"\u2039"),l.a.createElement("div",{className:"horizontal-scroll__content table-responsive",ref:a},t),l.a.createElement("div",{className:"horizontal-scroll__button"+(d?" horizontal-scroll__button--enabled":""),onClick:function(){p(40)}},"\u203a"))}function ue(e,t,a){var n=t.pathname.split("/"),r=Object(m.a)(n,4),l=r[1],o=r[2],c=r[3],i=a.networks.find((function(e){return e.name===l})),s=i?i.regions.find((function(e){return e.name===o})):void 0;return{network:i,region:s,parameters:c}}function me(e,t,a,n,r,l){var o=ue(0,t,a),c=void 0===l?o.parameters:l,i="/"+n.name+"/"+r.name+(c?"/"+c:"");t.pathname!==i&&e.replace(i)}function de(e){var t=Object(r.useState)(null),a=Object(m.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(null),i=Object(m.a)(c,2),s=i[0],u=i[1],d=me.bind(null,e.history,e.location,e.config),f=ue(e.history,e.location,e.config),h=f.network,g=f.region,E=f.parameters;if(!h){var b=e.config.networks[0],y=b.regions.find((function(e){return e.name===b.defaultRegion}));return d(b,y),null}if(!g){var S=h.regions.find((function(e){return e.name===h.defaultRegion}));return d(h,S),null}return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(p.a,null,l.a.createElement(se,null,l.a.createElement(x.a,null,h.regions.map((function(e){return l.a.createElement(w.a,{variant:"outline-primary",size:"sm",active:e.name===g.name,disabled:!e.dataRates,key:e.name,onClick:function(){return function(e){d(h,e)}(e)}},e.label)})))))),l.a.createElement(v.a,null,l.a.createElement("hr",null)),l.a.createElement(v.a,{className:"justify-content-sm-center"},l.a.createElement(p.a,null,l.a.createElement("h3",null,g.title))),l.a.createElement(v.a,{className:"justify-content-center"},l.a.createElement(p.a,null,l.a.createElement($,{userConfig:E,setUserConfig:function(e){d(h,g,e)},setPacketSize:function(e){o(e)},setCodingRate:function(e){u(e)}}))),l.a.createElement(v.a,{className:"justify-content-center"},l.a.createElement(p.a,null,l.a.createElement(ie,{region:g,packetSize:n,codingRate:s}),l.a.createElement("hr",null))),l.a.createElement(v.a,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},g.limitations&&l.a.createElement(z.a,{source:g.limitations}))),l.a.createElement(v.a,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},l.a.createElement("p",null,"Increasing the spreading factor SF by one step almost doubles the time on air (for the same bandwidth BW). This also means that, say, a single transmission on SF10 takes more time than 6\xa0transmissions on SF7, or may need about the same airtime as 3\xa0transmissions on SF7, SF8 and SF9 combined. This is why using"," ",l.a.createElement("a",{href:"https://lora-developers.semtech.com/library/tech-papers-and-guides/understanding-adr"},"ADR")," ","or"," ",l.a.createElement("a",{href:"https://lora-developers.semtech.com/library/tech-papers-and-guides/blind-adr"},"Blind ADR")," ","is important."),l.a.createElement("p",null,"The LoRa radio modulation, interleaving and forward error correction"," ",l.a.createElement("a",{href:"https://www.epfl.ch/labs/tcl/wp-content/uploads/2020/02/Reverse_Eng_Report.pdf"},"yield fixed-length blocks")," ","for the transmissions, so a small change in the payload size does not always imply a change in the time on air. The start of new blocks is not the same for each data rate, and the block size may also alternate within a single data rate. The following graph shows the time on air for the ",l.a.createElement("em",null,"total")," payload sizes as allowed for each data rate for ",g.label,", highlighting the currently selected total packet size of"," ",n,"\xa0bytes."))),l.a.createElement(v.a,{className:"Graph justify-content-center"},l.a.createElement(p.a,null,l.a.createElement(re,{region:g,selectedPacketSize:n,codingRate:s}))),l.a.createElement(v.a,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},g.countries&&l.a.createElement(z.a,{source:g.countries}))))}var fe=a(39);a(201);function pe(e){var t=e.notification,a=Object(r.useState)(0),n=Object(m.a)(a,2),o=n[0],c=n[1],i=Object(r.useState)(0),s=Object(m.a)(i,2),u=s[0],d=s[1],f=Object(r.useRef)(0);Object(r.useEffect)((function(){if(t){var e=he(t.title)+he(t.content),a=Math.max(3e3,70*e.length);c(Date.now()+a)}}),[t]),Object(r.useEffect)((function(){f.current&&window.clearTimeout(f.current),o-u>0&&(f.current=window.setTimeout((function(){f.current=null,d(Date.now())}),1e3))}),[o,u]);var p=function(){c(Date.now())},h=(o-Date.now())/1e3;return h<=0||!t?null:l.a.createElement(fe.a,{className:"Toast",onClose:p,onClick:p},l.a.createElement(fe.a.Header,null,l.a.createElement("strong",{className:"mr-auto header"},t.title),l.a.createElement("small",null,h.toFixed(0))),t.content?l.a.createElement(fe.a.Body,null,t.content):null)}function he(e){if(!e)return"";if("string"===typeof e)return e;var t=e.props&&e.props.children;return t instanceof Array?t.map(he).join(""):he(t)}function ve(){var e="/airtime-calculator/config.json",t=Object(r.useState)("Loading configuration..."),a=Object(m.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)({}),i=Object(m.a)(c,2),d=i[0],g=i[1];Object(r.useEffect)((function(){var t=!1;return function(){var a=Object(u.a)(s.a.mark((function a(){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.get(e);case 3:n=a.sent.data,t||(o(null),g(n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),o("Failed to load configuration ".concat("/airtime-calculator"," ").concat(e,": ").concat(a.t0));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!0}}),[e]);var w=C().notification;return l.a.createElement(b.a,{basename:"/airtime-calculator"},l.a.createElement(h.a,{fluid:!0,className:"App"},l.a.createElement(pe,{notification:w}),l.a.createElement(v.a,null,l.a.createElement(p.a,null,l.a.createElement("h1",null,"Airtime calculator for LoRaWAN"),l.a.createElement("p",null,n))),d.networks&&l.a.createElement(y.a,{render:function(e){return l.a.createElement(de,Object.assign({},e,{config:d}))}}),l.a.createElement(E.a,{href:"https://github.com/avbentem/airtime-calculator"})))}a(203),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,a){e.exports=a(204)}},[[88,1,2]]]);
//# sourceMappingURL=main.2b53eb27.chunk.js.map